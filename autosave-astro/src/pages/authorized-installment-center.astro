---
import { Image } from 'astro:assets';
import PageLayout from '../layouts/PageLayout.astro';
import { getLocalizedPath } from '../lib/i18n';

const lang = 'ar' as const;
const carImages = Array.from({ length: 21 }, (_, index) => {
  const order = String(index + 1).padStart(2, '0');
  return {
    src: `/images/car-served/car-served-${order}.jpeg`,
    alt: `سيارة مخدومة في المركز المعتمد رقم ${index + 1}`,
  };
});
---

<PageLayout
  title="مراكز المعتمد | أوتو سيف"
  description="تعرف على المراكز المعتمدة لدينا وشاهد سيارات تم خدمتها بجودة عالية."
  lang={lang}
>
  <section class="relative overflow-hidden hero-gradient text-[#f0ebe0]">
    <div class="hero-pattern"></div>
    <div class="relative z-10 mx-auto max-w-7xl px-4 py-20 lg:px-8 lg:py-28">
      <header class="max-w-3xl">
        <span class="hero-animate eyebrow-decorated text-sm font-semibold uppercase tracking-widest text-primary">مركز أوتو سيف المعتمد</span>
        <h1 class="hero-animate hero-animate-delay-1 mt-4 text-4xl font-bold tracking-tight font-display sm:text-5xl">المراكز المعتمدة لدينا لخدمة السيارات</h1>
        <p class="hero-animate hero-animate-delay-2 mt-6 text-base leading-relaxed text-[#f0ebe0]/65 sm:text-lg">
          نوفر تجربة خدمة موثوقة تجمع بين الفحص الدقيق، أسعار مناسبة، وخيارات تقسيط واضحة داخل مركز معتمد يلتزم بمعايير الجودة والسلامة.
        </p>
      </header>
    </div>
  </section>

  <section class="py-20 lg:py-28">
    <div class="container mx-auto px-4">
      <div class="grid gap-8 lg:grid-cols-[1.25fr_0.75fr] lg:items-start">
        <article class="rounded-2xl border border-border bg-card p-3 shadow-sm sm:p-4" data-animate="fade-in-up">
          <header class="mb-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
            <h2 class="text-2xl font-bold tracking-tight font-display sm:text-3xl">شاشة السيارات المخدومة</h2>
            <span class="inline-flex items-center rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary">تتغير تلقائياً كل ثانيتين</span>
          </header>
          <div class="installment-slider-screen relative aspect-[16/10] overflow-hidden rounded-xl border border-border bg-secondary/40" style={`--slide-count:${carImages.length};`}>
            {carImages.map((image, index) => (
              <figure class="installment-slide" style={`--slide-index:${index};`}>
                <Image
                  src={image.src}
                  alt={image.alt}
                  width={1600}
                  height={1000}
                  class="h-full w-full object-cover"
                  loading={index === 0 ? 'eager' : 'lazy'}
                  fetchpriority={index === 0 ? 'high' : 'auto'}
                />
              </figure>
            ))}
          </div>
        </article>

        <aside class="rounded-2xl border border-border bg-card p-6 shadow-sm" data-animate="fade-in-up" data-animate-delay="100">
          <h2 class="text-2xl font-bold tracking-tight font-display">لماذا مراكز الصيانة المعتمدة لدينا</h2>
          <ul class="mt-5 space-y-4 text-sm text-muted-foreground sm:text-base">
            <li class="rounded-lg bg-secondary/60 p-4">فنيون معتمدون وخبرة عملية في خدمة السيارات بمختلف الفئات.</li>
            <li class="rounded-lg bg-secondary/60 p-4"> خطوات واضحة من الاستلام حتى التسليم.</li>
            <li class="rounded-lg bg-secondary/60 p-4">متابعة احترافية وحلول مناسبة للحفاظ على كفاءة السيارة.</li>
          </ul>
          <a
            href={getLocalizedPath('/contact', lang)}
            aria-label="الانتقال إلى صفحة التواصل مع أوتو سيف"
            class="mt-6 inline-flex min-h-11 items-center justify-center rounded-lg gold-gradient gold-shimmer px-6 py-3 text-sm font-semibold text-white shadow-md transition hover:shadow-lg hover:shadow-primary/20"
          >
            احجز استشارتك الآن
          </a>
        </aside>
      </div>
    </div>
  </section>

  <section class="bg-secondary/40 py-20 lg:py-28">
    <div class="container mx-auto px-4">
      <header class="mb-10 text-center" data-animate="fade-in-up">
        <h2 class="text-3xl font-bold tracking-tight font-display sm:text-4xl">معرض السيارات التي تم خدمتها</h2>
        <p class="mx-auto mt-4 max-w-2xl text-base leading-relaxed text-muted-foreground sm:text-lg">
          عرض كامل لبعض السيارات التي تمت خدمتها داخل المركز المعتمد، بتصميم حديث يوضح جودة العمل والنتيجة النهائية.
        </p>
      </header>

      <ul class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
        {carImages.map((image, index) => (
          <li data-animate="fade-in-up" data-animate-delay={String(((index % 6) + 1) * 100)}>
            <article class="card-hover-lift overflow-hidden rounded-xl border border-border bg-card shadow-sm">
              <figure>
                <Image
                  src={image.src}
                  alt={image.alt}
                  width={800}
                  height={600}
                  class="h-56 w-full object-cover"
                  loading="lazy"
                />
                <figcaption class="border-t border-border px-4 py-3 text-sm font-medium text-foreground">
                  سيارة مخدومة رقم {index + 1}
                </figcaption>
              </figure>
            </article>
          </li>
        ))}
      </ul>
    </div>
  </section>
</PageLayout>
